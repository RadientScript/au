getgenv().Level=0;repeat task.wait()until game:IsLoaded()local a="https://discord.com/api/webhooks/1230899982165479455/Zx3pyf5_DuGB-FvftwuyTs1f4F16G9mby0hHEKbkUPFBwMIxV14mQp4Nwhvtzuj2LCQK"local function b()local c=DateTime.now():ToLocalTime()local d=string.format("%02d:%02d:%02d",c.Hour,c.Minute,c.Second)return d end;local e=game.PlaceId==12886143095 or game.PlaceId==18583778121;local f=game:GetService("Players").LocalPlayer;local g=game:GetService("ReplicatedStorage")local h=f.PlayerGui;local i=game:GetService("HttpService")local j={}local k=tick()local function l()local m=tick()-k;local n=math.floor(m/3600)local o=math.floor(m%3600/60)local p=math.floor(m%60)return string.format("%02d:%02d:%02d",n,o,p)end;task.spawn(function()while task.wait(1)do local m=tick()-k;if m>=120 and e then game:Shutdown()break elseif m>=300 then game:Shutdown()break end end end)local function q(r)r=r:gsub(",","")local s,t=r:match("([%d%.]+)([kKmMbB]?)")s=tonumber(s)if t:lower()=="k"then return s*1000 elseif t:lower()=="m"then return s*1000000 elseif t:lower()=="b"then return s*1000000000 end;return s end;local function u(r)local v=tostring(r):reverse():gsub("(%d%d%d)","%1,"):reverse()if v:sub(1,1)==","then v=v:sub(2)end;return v end;local function w(a,x)local y=request or http_request or syn.request;local z=game:GetService("HttpService")local A,B=pcall(function()return z:JSONEncode({embeds={x}})end)if not A then warn("‚ùå JSON Encoding Error: "..tostring(B))return end;local C=y({Url=a,Method="POST",Headers={["Content-Type"]="application/json",["User-Agent"]="Mozilla/5.0"},Body=B})end;local function D(E,F)local y=request or http_request or syn.request;local C=y({Url="https://notify-api.line.me/api/notify",Method="POST",Headers={["Authorization"]="Bearer "..E,["Content-Type"]="application/x-www-form-urlencoded"},Body="message="..F})end;task.spawn(function()while task.wait()do local A,G=pcall(function()if e then if game.PlaceId==12886143095 then repeat for H=1,2 do g.Remotes.InfiniteCastleManager:FireServer("GetData")task.wait(.5)g.Remotes.InfiniteCastleManager:FireServer("GetGlobalData")end;g.Remotes.InfiniteCastleManager:FireServer("Play",Level,true)task.wait(.5)until not e elseif game.PlaceId==18583778121 then if game:GetService("Players").LocalPlayer.PlayerGui:FindFirstChild("Confirm")then if game:GetService("Players").LocalPlayer.PlayerGui.Confirm.Enabled then game:GetService("GuiService").SelectedObject=game:GetService("Players").LocalPlayer.PlayerGui.Confirm.BG.Bottom.Enter;game:GetService("VirtualInputManager"):SendKeyEvent(true,Enum.KeyCode.Return,false,game)task.wait(.1)game:GetService("VirtualInputManager"):SendKeyEvent(false,Enum.KeyCode.Return,false,game)end else game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame=workspace.Lobby.Zones.World2.CFrame end end else local I=h:WaitForChild("MainUI")repeat task.wait()until I.Enabled;local J={}for K,L in pairs(game:GetService("Players").LocalPlayer.PlayerGui.Bottom.Frame:GetChildren())do if L:IsA("Frame")then for M,N in ipairs(L:GetChildren())do if N:IsA("TextButton")and N:FindFirstChild("Frame")and N:FindFirstChild("Frame"):FindFirstChild("Cost")then for O,P in pairs(game:GetService("ReplicatedStorage").Remotes.GetPlayerData:InvokeServer().Slots)do if O=="Slot"..N.Frame.SlotNumber.Text and P.Value and P.Value~=""then table.insert(J,{SlotNum=O,SlotValue=P.Value,Cost=q(N.Frame.Cost.Text)})end end end end end end;table.sort(J,function(Q,R)return Q.Cost<R.Cost end)local S,T=-159.369140625,7.469295501708984;repeat task.wait()for H,U in ipairs(J)do local V=CFrame.new(S,197.93942260742188,T)if not workspace.Towers:FindFirstChild(tostring(U.SlotValue))then if tonumber(game:GetService("Players").LocalPlayer.Cash.Value)>=tonumber(U.Cost)then repeat task.wait()g.Remotes.PlaceTower:FireServer(tostring(U.SlotValue),V)print("Placed Unit :",U.SlotValue,"at",V)task.wait(1)until workspace.Towers:FindFirstChild(tostring(U.SlotValue))S=S-4 end else game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("Upgrade"):InvokeServer(workspace:FindFirstChild("Towers"):FindFirstChild(tostring(U.SlotValue)))end end until game:GetService("ReplicatedStorage").GameEnded.Value or h:FindFirstChild("EndGameUI")local W=h:FindFirstChild("EndGameUI")if(W or game:GetService("ReplicatedStorage").GameEnded.Value)and W.Enabled then local X=game:GetService("ReplicatedStorage").Remotes.GetTeleportData:InvokeServer()local Y=""local Z=game:GetService("ReplicatedStorage").Remotes.GetPlayerData:InvokeServer()local _=Z.ItemData;local a0=u(tonumber(i:JSONEncode(Z.Level)))local a1=u(tonumber(i:JSONEncode(Z.EXP)))local a2=u(tonumber(i:JSONEncode(Z.MaxEXP)))local a3=tonumber(i:JSONEncode(Z.Rerolls))local a4=u(tonumber(i:JSONEncode(Z.Jewels)))local a5=u(tonumber(i:JSONEncode(Z.Emeralds)))local a6=u(tonumber(i:JSONEncode(Z.Gold)))local a7=u(tonumber(i:JSONEncode(Z.Rerolls)))if X.Room~=nil then Y=" Room "..i:JSONEncode(X.Room)elseif X.MapNum~=nil then Y=" Act "..i:JSONEncode(X.MapNum)elseif X.Element~=nil then Y=" Element "..i:JSONEncode(X.Element)else Y=""end;ColorWL=00000;WinLoss=""if game:GetService("Players").LocalPlayer.PlayerGui.EndGameUI.BG.Container.Stats.Result.TextColor3==Color3.new(153/255,255/255,75/255)then ColorWL=65280;WinLoss="VICTORY"else ColorWL=16711680;WinLoss="DEFEAT"end;local a8=""local a9=""for H,aa in ipairs(W.BG.Container.Rewards.Holder:GetChildren())do if aa:IsA("TextButton")then for H,ab in pairs(_)do if string.lower(aa:GetAttribute("Item"))==string.lower(ab.ItemName)then a9=" [Total: "..tonumber(ab.Amount).."]"else a9=""end end;a8=a8 .."+"..aa:GetAttribute("Amount").." "..aa:GetAttribute("Item")..a9 .."\n"end end;local ac=""for O,P in pairs(Z.Slots)do ac=ac..string.format("[ %d ] %s = %s :crossed_swords:\n",P.Level,P.Value,u(tonumber(P.Kills)))end;local x={title="ALS Farm",color=tonumber(ColorWL),fields={{name="",value="**User : **".."||"..f.Name.."||".."\n".."**Level: **"..a0 .." ["..a1 .."/"..a2 .."]"},{name="Player Stats",value="<:emerald:1204766658397343805> "..a5 .."\n<:als_jewels:1265957290251522089> "..a4 .."\n<:coinals:1322519939525120072> "..a6 .."\n<:rerolls:1216376860804382860> "..a7,inline=true},{name="",value="",inline=true},{name="Reward",value=a8,inline=true},{name="Units",value=ac},{name="Match Result",value=l().." -  Wave "..tostring(tonumber(game:GetService("ReplicatedStorage").Wave.Value)).." \n"..i:JSONEncode(X.Type):gsub('"',"").." "..i:JSONEncode(X.MapName):gsub('"',"")..Y.." ["..i:JSONEncode(X.Difficulty):gsub('"',"").."] ".." - "..WinLoss}},thumbnail={url="https://cdn.discordapp.com/attachments/1287980533162315808/1321789124470116383/latest.png?ex=676e838c&is=676d320c&hm=be9b5f0f61f2165f1e9fe8d656d445afe0892c430666d2555fb3bd43e73b7692&"},footer={text="Local Time".." : "..b()}}w(a,x)task.wait(.5)repeat if game:GetService("GuiService").SelectedObject~=game:GetService("Players").LocalPlayer.PlayerGui.EndGameUI.BG.Buttons.Leave then game:GetService("GuiService").SelectedObject=game:GetService("Players").LocalPlayer.PlayerGui.EndGameUI.BG.Buttons.Leave else game:GetService("VirtualInputManager"):SendKeyEvent(true,Enum.KeyCode.Return,false,game)game:GetService("VirtualInputManager"):SendKeyEvent(false,Enum.KeyCode.Return,false,game)task.wait(1)end until e end end end)if not A then warn("Error occurred: "..tostring(G))end end end)repeat task.wait()until game.CoreGui:FindFirstChild("RobloxPromptGui")local ad=""game.CoreGui.RobloxPromptGui.promptOverlay.ChildAdded:Connect(function(ae)if ae.Name=="ErrorPrompt"then task.wait(.5)local af=game.CoreGui.RobloxPromptGui.promptOverlay:WaitForChild("ErrorPrompt").MessageArea.ErrorFrame;for H,L in ipairs(af:GetChildren())do if L:IsA("TextLabel")then ad=L.Text end end;if af then local x={title="Disconnect From Server",color=00000,fields={{name="||"..f.Name.."||",value=ad}},footer={text="Rejoining".." ("..b()..")"}}w(a,x)else print("ErrorPrompt not found.")end;repeat game:GetService("TeleportService"):Teleport(12886143095,f)task.wait(2)until false end end)
