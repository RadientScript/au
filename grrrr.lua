getgenv().Level=0;repeat task.wait()until game:IsLoaded()local a="https://discord.com/api/webhooks/1230899982165479455/Zx3pyf5_DuGB-FvftwuyTs1f4F16G9mby0hHEKbkUPFBwMIxV14mQp4Nwhvtzuj2LCQK"local function b()local c=DateTime.now():ToLocalTime()local d=string.format("%02d:%02d:%02d",c.Hour,c.Minute,c.Second)return d end;local e=game.PlaceId==12886143095 or game.PlaceId==18583778121;local f=game:GetService("Players").LocalPlayer;local g=game:GetService("ReplicatedStorage")local h=f.PlayerGui;local i={}local j=tick()local function k()local l=tick()-j;local m=math.floor(l/3600)local n=math.floor(l%3600/60)local o=math.floor(l%60)return string.format("%02d:%02d:%02d",m,n,o)end;task.spawn(function()while task.wait(1)do local l=tick()-j;if l>=120 and e then game:Shutdown()break elseif l>=300 then game:Shutdown()break end end end)local function p(q)q=q:gsub(",","")local r,s=q:match("([%d%.]+)([kKmMbB]?)")r=tonumber(r)if s:lower()=="k"then return r*1000 elseif s:lower()=="m"then return r*1000000 elseif s:lower()=="b"then return r*1000000000 end;return r end;local function t(q)local u=tostring(q):reverse():gsub("(%d%d%d)","%1,"):reverse()if u:sub(1,1)==","then u=u:sub(2)end;return u end;local function v(a,w)local x=game:GetService("HttpService")request({Url=a,Method="POST",Headers={["Content-Type"]="application/json"},Body=x:JSONEncode({embeds={w}})})end;local function y(z,A)local x=request or http_request or syn.request;local B=x({Url="https://notify-api.line.me/api/notify",Method="POST",Headers={["Authorization"]="Bearer "..z,["Content-Type"]="application/x-www-form-urlencoded"},Body="message="..A})end;task.spawn(function()while task.wait()do local C,D=pcall(function()local E=game:GetService("HttpService")local F=b()if e then if game.PlaceId==12886143095 then repeat for G=1,2 do g.Remotes.InfiniteCastleManager:FireServer("GetData")task.wait(.5)g.Remotes.InfiniteCastleManager:FireServer("GetGlobalData")end;g.Remotes.InfiniteCastleManager:FireServer("Play",Level,true)task.wait(.5)until not e elseif game.PlaceId==18583778121 then if game:GetService("Players").LocalPlayer.PlayerGui:FindFirstChild("Confirm")then if game:GetService("Players").LocalPlayer.PlayerGui.Confirm.Enabled then game:GetService("GuiService").SelectedObject=game:GetService("Players").LocalPlayer.PlayerGui.Confirm.BG.Bottom.Enter;game:GetService("VirtualInputManager"):SendKeyEvent(true,Enum.KeyCode.Return,false,game)task.wait(.1)game:GetService("VirtualInputManager"):SendKeyEvent(false,Enum.KeyCode.Return,false,game)end else game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame=workspace.Lobby.Zones.World2.CFrame end end else local H=h:WaitForChild("MainUI")repeat task.wait()until H.Enabled;if game:GetService("ReplicatedStorage").TimeScale.Value~=3 then game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("ChangeTimeScale"):FireServer(3)end;local I={}for J,K in pairs(game:GetService("Players").LocalPlayer.PlayerGui.Bottom.Frame:GetChildren())do if K:IsA("Frame")then for L,M in ipairs(K:GetChildren())do if M:IsA("TextButton")and M:FindFirstChild("Frame")and M:FindFirstChild("Frame"):FindFirstChild("Cost")then for N,O in pairs(game:GetService("ReplicatedStorage").Remotes.GetPlayerData:InvokeServer().Slots)do if N=="Slot"..M.Frame.SlotNumber.Text and O.Value and O.Value~=""then table.insert(I,{SlotNum=N,SlotValue=O.Value,Cost=p(M.Frame.Cost.Text)})end end end end end end;table.sort(I,function(P,Q)return P.Cost<Q.Cost end)local R,S=-159.369140625,7.469295501708984;repeat task.wait()for G,T in ipairs(I)do local U=CFrame.new(R,197.93942260742188,S)if not workspace.Towers:FindFirstChild(tostring(T.SlotValue))then if tonumber(game:GetService("Players").LocalPlayer.Cash.Value)>=tonumber(T.Cost)then repeat task.wait()g.Remotes.PlaceTower:FireServer(tostring(T.SlotValue),U)print("Placed Unit :",T.SlotValue,"at",U)task.wait(1)until workspace.Towers:FindFirstChild(tostring(T.SlotValue))R=R-4 end else game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("Upgrade"):InvokeServer(workspace:FindFirstChild("Towers"):FindFirstChild(tostring(T.SlotValue)))end end until h:FindFirstChild("EndGameUI")local V=h:FindFirstChild("EndGameUI")if V and V.Enabled then local W=game:GetService("ReplicatedStorage").Remotes.GetTeleportData:InvokeServer()local X=""local Y=game:GetService("ReplicatedStorage").Remotes.GetPlayerData:InvokeServer()local Z=Y.ItemData;local _,a0=nil;local a1=t(tonumber(E:JSONEncode(Y.Level)))local a2=t(tonumber(E:JSONEncode(Y.EXP)))local a3=t(tonumber(E:JSONEncode(Y.MaxEXP)))local a4=tonumber(E:JSONEncode(Y.Rerolls))local a5=t(tonumber(E:JSONEncode(Y.Jewels)))local a6=t(tonumber(E:JSONEncode(Y.Emeralds)))local a7=t(tonumber(E:JSONEncode(Y.Gold)))local a8=t(tonumber(E:JSONEncode(Y.Rerolls)))local a9=""local aa=""local ab=""local ac=""for G,ad in ipairs(V.BG.Container.Rewards.Holder:GetChildren())do if ad:IsA("TextButton")then local ae=tonumber(ad.Amount.Text:match("%d+"))or 0;for G,af in pairs(Z)do if string.lower(ad.ItemName.Text)==string.lower(af.ItemName)then a9=a9 .."+"..ae.." "..ad.ItemName.Text.." [Total: "..tonumber(af.Amount).."]\n"end end;if ad.ItemName.Text=="Technique Shard"then aa=aa.."+"..ae.." "..ad.ItemName.Text:gsub("Technique Shard","Rerolls").." [ Total: "..a8 .." ]\n"end;if aa==""then ac=a9 else ac=aa..a9 end end end;local ag=""for N,O in pairs(Y.Slots)do local ah=O.Kills;local a1=O.Level;local q=O.Value;if q~=""then ag=ag..string.format("[ %d ] %s = %s :crossed_swords:\n",a1,q,t(tonumber(ah)))end end;if W.Room~=nil then X=" Room "..E:JSONEncode(W.Room)elseif W.MapNum~=nil then X=" Act "..E:JSONEncode(W.MapNum)elseif W.Element~=nil then X=" Element "..E:JSONEncode(W.Element)else X=""end;ColorWL=00000;WinLoss=""if game:GetService("Players").LocalPlayer.PlayerGui.EndGameUI.BG.Container.Stats.Result.TextColor3==Color3.new(153/255,255/255,75/255)then ColorWL=65280;WinLoss="VICTORY"else ColorWL=16711680;WinLoss="DEFEAT"end;local w={title="Reroll Farm",color=tonumber(ColorWL),fields={{name="",value="**User : **".."||"..f.Name.."||".."\n".."**Level: **"..a1 .." ["..a2 .."/"..a3 .."]"},{name="Player Stats",value="<:emerald:1204766658397343805> "..a6 .."\n<:als_jewels:1265957290251522089> "..a5 .."\n<:coinals:1322519939525120072> "..a7 .."\n<:rerolls:1216376860804382860> "..a8,inline=true},{name="",value="",inline=true},{name="Reward",value=ac,inline=true},{name="Units",value=ag},{name="Match Result",value=k().." -  Wave "..tostring(tonumber(game:GetService("ReplicatedStorage").Wave.Value)).." \n"..E:JSONEncode(W.Type):gsub('"',"").." "..E:JSONEncode(W.MapName):gsub('"',"")..X.." ["..E:JSONEncode(W.Difficulty):gsub('"',"").."] ".." - "..WinLoss}},thumbnail={url="https://cdn.discordapp.com/attachments/1287980533162315808/1321789124470116383/latest.png?ex=676e838c&is=676d320c&hm=be9b5f0f61f2165f1e9fe8d656d445afe0892c430666d2555fb3bd43e73b7692&"},footer={text="Local Time".." : "..F}}v(a,w)y("jQe0rT3OzCSAkynpXLT5jWk4JzkNq4B7vmuePcaE4j6",a8)task.wait(.5)repeat if game:GetService("GuiService").SelectedObject~=game:GetService("Players").LocalPlayer.PlayerGui.EndGameUI.BG.Buttons.Leave then game:GetService("GuiService").SelectedObject=game:GetService("Players").LocalPlayer.PlayerGui.EndGameUI.BG.Buttons.Leave else game:GetService("VirtualInputManager"):SendKeyEvent(true,Enum.KeyCode.Return,false,game)game:GetService("VirtualInputManager"):SendKeyEvent(false,Enum.KeyCode.Return,false,game)task.wait(1)end until e else for J,K in pairs(game:GetService("Players").LocalPlayer.PlayerGui.Prompt.TextButton:GetChildren())do game:GetService("GuiService").SelectedObject=K;game:GetService("VirtualInputManager"):SendKeyEvent(true,Enum.KeyCode.Return,false,game)game:GetService("VirtualInputManager"):SendKeyEvent(false,Enum.KeyCode.Return,false,game)task.wait(.5)end end end end)if not C then warn("Error occurred: "..tostring(D))end end end)repeat task.wait()until game.CoreGui:FindFirstChild("RobloxPromptGui")local ai=""game.CoreGui.RobloxPromptGui.promptOverlay.ChildAdded:Connect(function(aj)if aj.Name=="ErrorPrompt"then task.wait(.5)local ak=game.CoreGui.RobloxPromptGui.promptOverlay:WaitForChild("ErrorPrompt").MessageArea.ErrorFrame;for G,K in ipairs(ak:GetChildren())do if K:IsA("TextLabel")then ai=K.Text end end;if ak then local w={title="Disconnect From Server",color=00000,fields={{name="||"..f.Name.."||",value=ai}},footer={text="Rejoining".." ("..b()..")"}}v(a,w)else print("ErrorPrompt not found.")end;repeat game:GetService("TeleportService"):Teleport(12886143095,f)task.wait(2)until false end end)
